DROP TABLE IF exists SIMPLE_EXP ;
DROP TABLE IF exists COMPLEX_EXP ;
DROP TABLE IF exists POLICY ;

CREATE TABLE POLICY (
    ID INT(20) NOT NULL,     
    FORMULAE VARCHAR(1000) NOT NULL,
    COMMENT VARCHAR(50),
    PRIMARY KEY (ID)
) ; 

CREATE TABLE SIMPLE_EXP (
    ID INT(20) NOT NULL,     
    POLICY_ID INT(20) NOT NULL,
    OPERANT VARCHAR(100) NOT NULL,
    FROM_VAL VARCHAR(15) NOT NULL,
    TO_VAL VARCHAR(15),
    OPERATOR VARCHAR(50) NOT NULL,
    PRIMARY KEY (ID),
    FOREIGN KEY (POLICY_ID) REFERENCES POLICY(ID) ON DELETE CASCADE
) ; 

CREATE TABLE COMPLEX_EXP(
    ID INT(20) NOT NULL,
    GROUP_ID INT(20) NOT NULL,
    POLICY_ID INT(20) NOT NULL,
    OPERANT VARCHAR(100) NOT NULL,
    VAL VARCHAR(15) NOT NULL,
    OPERATOR VARCHAR(50) NOT NULL,
    PRIMARY KEY (ID),
    FOREIGN KEY (POLICY_ID) REFERENCES POLICY(ID) ON DELETE CASCADE
); 
